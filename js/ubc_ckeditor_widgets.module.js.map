{"mappings":"UAAC,SAAUA,EAAQC,EAAgBC,GACjCF,EAAOG,UAAUC,mBAAqB,CACpCC,OAAQ,SAAUC,EAASC,GACzBL,EAAK,mBAAoB,oBAAqBI,GAASE,SAAQC,IAC7D,IAAIC,EAAMD,EAAKE,cAAc,uBAC7BD,EAAIE,UAAY,WAAaF,EAAIE,UAAY,YAC7CF,EAAIG,iBAAiB,SAAS,KAC5B,IAAIC,EAAiD,SAAtCJ,EAAIK,aAAa,iBAC5BC,EAASP,EAAKE,cAAc,sBAChCD,EAAIO,aAAa,iBAAkBH,GACnCJ,EAAIQ,UAAUC,OAAO,WACrBV,EAAKS,UAAUC,OAAO,WACtBH,EAAOI,gBAAgB,UACvBJ,EAAOK,QAAQ,CACb,CAAEC,WAAY,UAAWC,QAAS,KAClC,CAAEA,QAAS,QACV,CACDC,SAAU,IACVC,OAAQ,SACRC,WAAY,UAIlBxB,EAAK,sBAAuB,yBAA0BI,GAASE,SAAQC,IACrE,IAAIkB,EAAQlB,EAAKM,aAAa,cAC9BN,EAAKI,iBAAiB,SAAS,KAC7B,IAAIe,EAAOD,EAAQ,QAAU,OAC7B,MAAME,EAAaC,SAASC,iBAAiB,qBAC7CJ,GAASA,EACTlB,EAAKuB,UAAYJ,EAAO,kBACX,KAATD,EACFE,EAAWrB,SAAQyB,IACjB,IAAIvB,EAAMuB,EAAUtB,cAAc,uBAC9BK,EAASiB,EAAUtB,cAAc,sBACrCD,EAAIO,aAAa,gBAAiB,QAClCP,EAAIQ,UAAUgB,IAAI,WAClBzB,EAAKS,UAAUgB,IAAI,WACnBlB,EAAOmB,gBAAgB,UACvBnB,EAAOK,QAAQ,CACb,CAAEC,WAAY,UAAWC,QAAS,KAClC,CAAEA,QAAS,QACV,CACDC,SAAU,IACVC,OAAQ,SACRC,WAAY,OAIhBG,EAAWrB,SAAQyB,IACjB,IAAIvB,EAAMuB,EAAUtB,cAAc,uBAC9BK,EAASiB,EAAUtB,cAAc,sBACrCD,EAAIO,aAAa,gBAAiB,SAClCP,EAAIQ,UAAUkB,OAAO,WACrB3B,EAAKS,UAAUkB,OAAO,WACtBpB,EAAOC,aAAa,SAAU,eAtD3C,CA6DEjB,OAAQC,eAAgBC","sources":["src/js/ubc_ckeditor_widgets.js"],"sourcesContent":["(function (Drupal, drupalSettings, once) {\n  Drupal.behaviors.ubcCkeditorWidgets = {\n    attach: function (context, settings) {\n      once('widgetAccordions', '.widget-accordion', context).forEach(item => {\n        let btn = item.querySelector('.js-reveal__trigger');\n        btn.innerHTML = '<button>' + btn.innerHTML + '</button>';\n        btn.addEventListener('click', () => {\n          let expanded = btn.getAttribute('aria-expanded') === 'true';\n          let target = item.querySelector('.js-reveal__target');\n          btn.setAttribute('aria-expanded', !expanded);\n          btn.classList.toggle('is-open');\n          item.classList.toggle('is-open');\n          target.toggleAttribute('hidden');\n          target.animate([\n            { transition: 'opacity', opacity: '0' },\n            { opacity: '100' }\n          ], {\n            duration: 250,\n            easing: 'linear',\n            iterations: 1\n          });\n        });\n      });\n      once('widgetAccordionsAll', '.widget-expandcollapse', context).forEach(item => {\n        let state = item.getAttribute('data-state');\n        item.addEventListener('click', () => {\n          let text = state ? \"Close\" : \"Open\";\n          const accordions = document.querySelectorAll('.widget-accordion');\n          state = !state;\n          item.innerText = text + ' All Accordions';\n          if (state == \"0\") {\n            accordions.forEach(accordion => {\n              let btn = accordion.querySelector('.js-reveal__trigger');\n              let target = accordion.querySelector('.js-reveal__target');\n              btn.setAttribute('aria-expanded', 'true');\n              btn.classList.add('is-open');\n              item.classList.add('is-open');\n              target.removeAttribute('hidden');\n              target.animate([\n                { transition: 'opacity', opacity: '0' },\n                { opacity: '100' }\n              ], {\n                duration: 250,\n                easing: 'linear',\n                iterations: 1\n              });\n            });\n          } else {\n            accordions.forEach(accordion => {\n              let btn = accordion.querySelector('.js-reveal__trigger');\n              let target = accordion.querySelector('.js-reveal__target');\n              btn.setAttribute('aria-expanded', 'false');\n              btn.classList.remove('is-open');\n              item.classList.remove('is-open');\n              target.setAttribute('hidden', '');\n            });\n          }\n        });\n      });\n    }\n  };\n})(Drupal, drupalSettings, once);\n"],"names":["Drupal","drupalSettings","once","behaviors","ubcCkeditorWidgets","attach","context","settings","forEach","item","btn","querySelector","innerHTML","addEventListener","expanded","getAttribute","target","setAttribute","classList","toggle","toggleAttribute","animate","transition","opacity","duration","easing","iterations","state","text","accordions","document","querySelectorAll","innerText","accordion","add","removeAttribute","remove"],"version":3,"file":"ubc_ckeditor_widgets.module.js.map"}